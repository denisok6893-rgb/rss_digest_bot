# CONTINUITY ‚Äî rss_digest_bot

## –ß—Ç–æ —ç—Ç–æ
Telegram-–±–æ—Ç –¥–ª—è RSS:
- /add /list /del ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ RSS-–∫–∞–Ω–∞–ª–∞–º–∏
- /sync ‚Äî —Å–∫–∞—á–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤ SQLite
- /news ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- /news week ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ 7 –¥–Ω–µ–π

## –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å (–≤–∞–∂–Ω–æ)
–ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑:
./run.sh

–ï—Å–ª–∏ –±–æ—Ç ‚Äú–º–æ–ª—á–∏—Ç‚Äù ‚Äî –ø–µ—Ä–≤–æ–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–Ω –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ ./run.sh.

## –•—Ä–∞–Ω–∏–ª–∏—â–µ
- SQLite: data/rss.db (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
- .env —Å BOT_TOKEN (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
- Termux: python + venv
- requirements.txt —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –Ω—é–∞–Ω—Å—ã
- –í–æ–∑–º–æ–∂–Ω—ã telegram.error.TimedOut –ø—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö/–ø–ª–æ—Ö–æ–π —Å–µ—Ç–∏ ‚Äî —É–º–µ–Ω—å—à–∞–ª–∏ –æ–±—ä—ë–º –≤—ã–¥–∞—á–∏ –¥–ª—è week.
- HTML –≤ summary —á–∏—Å—Ç–∏—Ç—Å—è —á–µ—Ä–µ–∑ clean_html().

## –ü—Ä–æ–≤–µ—Ä–∫–∏
- /sync ‚Üí –¥–æ–ª–∂–Ω–æ –ø–∏—Å–∞—Ç—å ‚Äú–ù–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π: ‚Ä¶‚Äù
- /news ‚Üí –¥–æ–ª–∂–µ–Ω –≤—ã–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- /news week ‚Üí –¥–æ–ª–∂–µ–Ω –≤—ã–¥–∞–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞ –Ω–µ–¥–µ–ª—é

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–ª–∞–Ω)
1) –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–º–µ/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: /news week football –∏–ª–∏ /news football
2) /news month
3) –ê–≤—Ç–æ-sync –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron/termux-job-scheduler)
4) –£–ª—É—á—à–∏—Ç—å –æ—á–∏—Å—Ç–∫—É summary (HTML entities, –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã)

2026-01-02 ‚Äî UI –∫–Ω–æ–ø–∫–∏, –¥–µ–ø–ª–æ–π –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞

–ö–æ–Ω—Ç–µ–∫—Å—Ç
–ü—Ä–æ–µ–∫—Ç rss_digest_bot. –ë–æ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (/opt/rss_digest_bot) –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ systemd –≤ —Ä–µ–∂–∏–º–µ polling. –î–æ —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ –¥–µ–ª–∞–ª–∏—Å—å –ª–æ–∫–∞–ª—å–Ω–æ (Termux), –∏–∑-–∑–∞ —á–µ–≥–æ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–æ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å Reply-–∫–Ω–æ–ø–∫–∞–º–∏:

üì∞ –°–µ–≥–æ–¥–Ω—è

üìÖ –ù–µ–¥–µ–ª—è

‚ûï –î–æ–±–∞–≤–∏—Ç—å RSS

üìÉ –ú–æ–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í—ã–Ω–µ—Å–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å:

app/keyboards/main_menu.py

–¥–æ–±–∞–≤–ª–µ–Ω—ã __init__.py –≤ app/ –∏ app/keyboards/

/start —Ç–µ–ø–µ—Ä—å:

–æ—Ç–≤–µ—á–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–º

–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —á–µ—Ä–µ–∑ reply_markup=main_menu_keyboard()

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω handle_menu_buttons:

–∫–Ω–æ–ø–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã (cmd_sync, cmd_news, cmd_list)

–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è update.message.text (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω AttributeError)

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

application.add_handler ‚Üí app.add_handler

–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç ContextTypes

–ö—Ä–∏—Ç–∏—á–Ω—ã–π —Ñ–∏–∫—Å –¥–µ–ø–ª–æ—è:

systemd —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç –∫–∞–∫ –º–æ–¥—É–ª—å
ExecStart=/opt/rss_digest_bot/.venv/bin/python -m app.main

–∑–∞–¥–∞–Ω WorkingDirectory=/opt/rss_digest_bot

—É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ ModuleNotFoundError: No module named 'app'

–ë–æ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å—Ç–∞—Ä—Ç—É–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫–∏
(–∫–Ω–æ–ø–∫–∞ –°–µ–≥–æ–¥–Ω—è –¥–µ–ª–∞–µ—Ç sync –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)

–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

–ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–ü–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äú–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞‚Äù ‚Äî UX –∏–∑–±—ã—Ç–æ—á–Ω—ã–π

–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è / –¥–æ–ª–≥–∏

Sync –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ¬´—Ç–∏—Ö–∏–º¬ª (–±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞

–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–≤—Å—ë –æ–±—â–µ–µ)

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (–æ–¥–∏–Ω)

–°–¥–µ–ª–∞—Ç—å —Ç–∏—Ö–∏–π sync –¥–ª—è –∫–Ω–æ–ø–æ–∫ –°–µ–≥–æ–¥–Ω—è / –ù–µ–¥–µ–ª—è
(—É–±—Ä–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äú–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞‚Äù, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
